<!--
	资源池容量详细信息
-->
<ui-view autoscroll="true" autoscroll-body-top>
	<div class="row">
	    <div class="col-md-12 col-sm-12 col-lg-12">
	    	<button ng-click="back();" type="button" style="margin-bottom: 10px;" class="back-button btn btn-default btn-with-icon pull-right">
	    	 	<i class="ion-chevron-left"></i>Back
	      	</button>
	    </div>
  	</div>
  	<div class="divborder">
  	<div class="row">
  		<h3 style="text-align: center; padding-top: 10px;">资源池-{{poolData.PoolOverview.PoolName}}</h3>
  	</div>
	<div class="row">
		<div class="col-lg-5 col-md-5 col-sm-5">
			<div class="divborder" style="margin-left: 5px; margin-top: 25px;">
				<table style="margin-left: 80px; margin-top:15px; border-collapse: separate; border-spacing: 10px;">
					<tr><td align="right" style="padding-left: 20px;">存储池等级:</td><td style="padding-left: 10px;">{{poolData.PoolOverview.Level}}</td></tr>
					<tr><td align="right"style="padding-left: 20px;">磁盘类型:</td><td style="padding-left: 10px;">{{poolData.PoolOverview.DiskType}}</td></tr>
					<tr><td align="right"style="padding-left: 20px;">保护类型:</td><td style="padding-left: 10px;">{{poolData.PoolOverview.RAIDType}}</td></tr>
					<tr><td align="right"style="padding-left: 20px;">成本:</td><td style="padding-left: 10px;">{{poolData.PoolOverview.Cost}}</td></tr>
				</table>
			</div>
		</div>
		<div class="col-lg-7 col-md-7 col-sm-7">
			<!-- 容量分布图 -->
			<div style="margin-left: 10px; width: 98%; margin-top: 25px;">
				<div style="width: 5%; height: 10px; background-color: yellow; float: left;"></div>
				<div style="width: 44%;float: left;">&nbsp;&nbsp;已使用&nbsp;&nbsp;{{CapacityOverview.Used}}TB</div>
				<div style="width: 5%; height: 10px; background-color: green; float: left;"></div>
				<div style="width: 44%;float: left;">&nbsp;&nbsp;剩余物理可用&nbsp;&nbsp;{{CapacityOverview.PhysicalFree-CapacityOverview.Used}}TB</div>
			</div>
			<br/>
			<div style="margin-left: 10px; width: 98%;">
				<div style="width: 5%; height: 10px; background-color: #D03E3E; float: left;"></div>
				<div style="width: 44%;float: left;">&nbsp;&nbsp;未使用&nbsp;&nbsp;{{CapacityOverview.Assigned-CapacityOverview.Used}}TB</div>
				<div style="width: 5%; height: 10px; background-color: #0093FA; float: left;"></div>
				<div style="width: 44%;float: left;">&nbsp;&nbsp;未分配&nbsp;&nbsp;{{CapacityOverview.Available-CapacityOverview.Assigned}}TB</div>
			</div>
			<br />
			
			<div style="width: 98%; margin-left: 10px; padding-top: 20px; border-left: 1px solid #FFFFFF; border-right: 1px solid #FFFFFF;">
				<div style="width: 100%; height: 20px;">
					<div style="height: 2px; border-bottom: 1px solid #FFFFFF; float: left; width: 35%; padding-top: 8px;"></div>
					<div style="width: 30%; float: left; text-align: center;">可用容量:{{CapacityOverview.Available}}TB</div>
					<div style="height: 2px; border-bottom: 1px solid #FFFFFF; float: left; width: 35%; padding-top: 8px;"></div>
				</div>
				<div style="width: {{CapacityOverview.PhysicalFree / CapacityOverview.Available * 100}}%; border-right: 1px solid #FFFFFF; height: 20px;">
					<div style="height: 2px; border-bottom: 1px solid #FFFFFF; float: left; width: 30%; padding-top: 8px;"></div>
					<div style="width: 40%; float: left; text-align: center;">物理可用:{{CapacityOverview.PhysicalFree}}TB</div>
					<div style="height: 2px; border-bottom: 1px solid #FFFFFF; float: left; width: 30%; padding-top: 8px;"></div>
				</div>
			</div>
			<!-- 顶部柱形 -->
			<div style="margin-left: 10px;width: 98%;">
				<div title="{{CapacityOverview.NoAvailable}}%" style="background-color:#666666; width: 100%; height: 30px; border-bottom: 2px #bbbbb3;">
					<div class="domes" title="{{CapacityOverview.Used1}}%" style="background: yellow; width: {{CapacityOverview.Used / CapacityOverview.Available * 100}}%; height: 30px; float: left;"></div>
					<div class="domes" title="{{CapacityOverview.PhysicalFree1}}%" style="background-color: green; width: {{(CapacityOverview.PhysicalFree-CapacityOverview.Used) / CapacityOverview.Available * 100}}%; height: 30px; float: left;"></div>
				</div>
			</div>
			<div style="height: 2px; width: 100%; background-color: #000000;"></div>
			<!-- 底部柱形 -->
			<div style="margin-left: 10px; width: 98%;">
				<div class="domes" title="{{CapacityOverview.Used1}}%" style="background: yellow; width: {{CapacityOverview.Used / CapacityOverview.Available * 100}}%; height: 30px; float: left;"></div>
				<div class="domes" title="{{CapacityOverview.NoUsed}}%" style="background-color:#D03E3E; width: {{(CapacityOverview.Assigned-CapacityOverview.Used)/ CapacityOverview.Available * 100}}%; height: 30px; float: left;"></div>
				<div class="domes" title="{{CapacityOverview.Available1}}%" style="background-color: #0093FA; width:{{(CapacityOverview.Available - CapacityOverview.Assigned)/ CapacityOverview.Available * 100}}%; height: 30px; float: left;"></div>
			</div>
			<!-- 已分配容量 -->
			<div style="width: 98%; margin-left: 10px; padding-top: 30px;">
				<div style="width: {{CapacityOverview.Assigned / CapacityOverview.Available * 100}}%; border-left: 1px solid #FFFFFF; border-right: 1px solid #FFFFFF; height: 25px;">
					<div style="height: 2px; border-bottom: 1px solid #FFFFFF; float: left; width: 25%; padding-top: 12px;"></div>
					<div style="width: 50%; float: left; text-align: center; padding-top: 8px;">已分配:{{CapacityOverview.Assigned}}TB</div>
					<div style="height: 2px; border-bottom: 1px solid #FFFFFF; float: left; width: 25%; padding-top: 12px;"></div>
				</div>
			</div>
			<div style="width: 98%; margin-left: 10px; padding-top: 10px;" align="center">
				<h4>容量分布</h4>
			</div>
		</div>
	</div>
	<div class="row" style="margin: 10px 4px 10px 4px; height: 1px; background-color: rgb(125, 125, 125);"></div>
	<!-- 第二部分 图形  柱形 -->
	<div class="row">
		<div class="col-lg-6 col-md-6 col-sm-6">
			<h4 style="text-align: center;">容量趋势</h4>
			<div style="height: 260px; width:100%;" id="zoomAxisChart" class="admin-chart" ng-controller="detailCtrl">
			</div>
		</div>
		<div class="col-lg-6 col-md-6 col-sm-6">
			<h4 style="text-align: center;">容量分配Top 10应用</h4>
			<div style="height: 260px; width:100%;" id="assignTopDiv" class="admin-chart" ng-controller="detailCtrl">
			</div>
		</div>
	</div>
	<!-- 列表信息 -->
	<div class="row">
		<div class="col-lg-12 col-md-12 col-sm-12">
			<div ba-panel ba-panel-title="资源池构成"  ba-panel-class="with-scroll">
				<div class="horizontal-scroll">
					<table class="table" st-table="componentTableData" st-safe-src="Component">
						<thead>
							<tr> 
							    <th colspan="3">
							    	<div class="row">
						    		 	<div class="col-lg-3 col-sm-5 col-xlg-5 control-label text-right" style="padding-top: 7px;">显示行数：</div>
										<div class="col-lg-7 col-sm-7 col-xlg-7" style="padding-left:0px;">
											<select class="form-control selectpicker show-tick pull-left" title="Rows on page" selectpicker ng-model="smartTablePageSize"
												ng-options="i for i in [5,10,15,20,25]"></select>
										</div>
									</div>
					    		</th>
					    		<th>
					    			<button type="button" ng-click="allPool();" class="btn btn-primary btn-with-icon">
						        	全部存储池
						        	</button>
					    		</th>
					    		<th colspan="5">
									<input st-search placeholder="全局搜索" class="input-sm form-control" type="search"/>
					    		</th>
							</tr>	
							<tr class="black-muted-bg">
								<th st-sort="ArrayName">存储名称</th>
								<th st-sort="ArraySN">序列号</th>
								<th st-sort="ArrayModle">存储型号</th>
								<th st-sort="PoolName">Pool名称</th>
								<th st-sort="RAIDType">Pool类型</th>
								<th st-sort="Available">总可用容量(GB)</th>
								<th st-sort="Assigned">已分配容量(GB)</th>
								<th st-sort="AssignedRatio">分配容量占比</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="component in componentTableData" ng-class="{'warning':component.selected}" ng-click="selectRow(component);">
								<td>{{component.ArrayName}}</td>
								<td>{{component.ArraySN}}</td>
								<td>{{component.ArrayModle}}</td>
								<td>{{component.PoolName}}</td>
								<td>{{component.RAIDType}}</td>
								<td>{{component.Available}}</td>
								<td>{{component.Assigned}}</td>
								<td>
									<div class="progress progress-mini progress-striped active pos-rel" style="margin-top: 10px;"
						               data-percent="{{component.AssignedRatio}}%">
						            <div class="progress-bar" style="width:{{component.AssignedRatio}}%"> {{component.AssignedRatio}}% </div>
						            </div>
								</td>
							</tr>
						</tbody>
						<tfoot>
							<tr>
								<td colspan="8" class="text-center">
									<div st-pagination="" st-items-by-page="smartTablePageSize" st-displayed-pages="15"></div>
								</td>
							</tr>
						</tfoot>
					</table>
				</div>
			</div>
		</div>
	</div>
	</div>
	<style>
		.divborder{
			border: 2px solid #FFFFFF;
			border-top-left-radius: 1em;
		    border-top-right-radius: 1em;
		    border-bottom-left-radius: 1em;
		    border-bottom-right-radius: 1em;
		    padding-bottom: 10px;
		}
		.domes:hover{  
			position:relative;
			cursor:pointer;
		   -webkit-box-shadow: 5px 5px 5px #000000;  
		  -moz-box-shadow: 5px 5px 5px #000000;  
		  box-shadow: 5px 5px 5px #000000;  
		 /*-webkit-box-shadow:0 0 10px #0CC;  
		  -moz-box-shadow:0 0 10px #0CC;  
		  box-shadow:0 0 10px #0CC; */
		} 
	</style>
</ui-view>